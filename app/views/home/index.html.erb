<% if user_signed_in? %>
    <%= form_with url: "#", method: :post, local: true do |form| %>
        <div class="mb-4">
            <%= form.label :prompt, "Enter your prompt" %>
            <%= form.text_area :prompt, rows: 5, class: "w-full border rounded p-2" %>
        </div>

        <%= form_with url: "#", method: :post, local: true do |f| %>
            <div class="flex space-x-6">
              <!-- Column 1 -->
              <div class="flex-1">
                <%= f.label :model1_id, "Model 1", class: "block text-sm font-medium text-gray-700" %>
                <%= f.select :model1_id,
                      options_from_collection_for_select(@models || [], :id, :name, selected: params[:model1_id]),
                      { prompt: "Select model…" },
                      class: "mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" %>
          
                <%= f.label :output1, "Output", class: "block text-sm font-medium text-gray-700 mt-4" %>
                <%= f.text_area :output1,
                      value: @output1,
                      rows: 10,
                      readonly: true,
                      class: "mt-1 block w-full border rounded p-2 bg-gray-50" %>
              </div>
          
              <!-- Column 2 -->
              <div class="flex-1">
                <%= f.label :model2_id, "Model 2", class: "block text-sm font-medium text-gray-700" %>
                <%= f.select :model2_id,
                      options_from_collection_for_select(@models || [], :id, :name, selected: params[:model2_id]),
                      { prompt: "Select model…" },
                      class: "mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" %>
          
                <%= f.label :output2, "Output", class: "block text-sm font-medium text-gray-700 mt-4" %>
                <%= f.text_area :output2,
                      value: @output2,
                      rows: 10,
                      readonly: true,
                      class: "mt-1 block w-full border rounded p-2 bg-gray-50" %>
              </div>
            </div>
          
            <div class="mt-6">
              <%= f.submit "Compare Models",
                    class: "bg-blue-500 text-white px-6 py-2 rounded-xl hover:bg-blue-600" %>
            </div>
          <% end %>
          


        <% end %>
<% else %>
    Please sign in to access the LLM Comparator.
<% end %>